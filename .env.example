# ============================================================
# Portal Configuration
# Copy to .env and fill in values. NEVER commit .env.
# ============================================================

# --- Hardware ---
# Options: mps (Apple Silicon) | cuda (NVIDIA) | cpu
COMPUTE_BACKEND=mps
# Options: host.docker.internal (macOS) | 172.17.0.1 (Linux bare) | 0.0.0.0 (WSL2)
DOCKER_HOST_IP=host.docker.internal
# Options: launchagent (macOS) | systemd (Linux) | nohup (WSL2)
SUPERVISOR_TYPE=launchagent

# --- LLM ---
OLLAMA_HOST=http://localhost:11434
DEFAULT_MODEL=qwen2.5:7b

# --- Routing ---
ROUTER_PORT=8000
ROUTER_BIND_IP=127.0.0.1
# Optional auth token for router
# ROUTER_TOKEN=

# --- Web UI (pick one) ---
# Options: openwebui | librechat
WEB_UI=openwebui

# --- MCP ---
MCP_ENABLED=true
# REQUIRED — replace with a strong random secret before first boot.
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
# Portal will refuse to start if this is still set to the default value.
MCP_API_KEY=changeme-mcp-secret
# Options: mcpo (for Open WebUI) | native (for LibreChat)
MCP_TRANSPORT=mcpo
MCPO_PORT=9000

# --- Generation Services (M4 default: true, Linux: false) ---
GENERATION_SERVICES=true
COMFYUI_URL=http://localhost:8188

# --- Telegram (optional channel) ---
TELEGRAM_ENABLED=false
# TELEGRAM_BOT_TOKEN=
# TELEGRAM_USER_IDS=123456789,987654321

# --- Slack (optional channel) ---
SLACK_ENABLED=false
# SLACK_BOT_TOKEN=xoxb-...
# SLACK_SIGNING_SECRET=
# SLACK_CHANNEL_WHITELIST=#ai-ops,#dev-tools

# --- Security ---
# REQUIRED — Portal refuses to start in production without this key.
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
PORTAL_BOOTSTRAP_API_KEY=changeme-bootstrap-key
RATE_LIMIT_PER_MINUTE=60
SANDBOX_ENABLED=false
APPROVAL_REQUIRED=true

# --- Observability ---
LOG_LEVEL=INFO
METRICS_ENABLED=true
METRICS_PORT=9090
WATCHDOG_ENABLED=true
